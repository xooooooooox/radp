<?xml version="1.0" encoding="UTF-8"?>
<!--
测试环境场景的日志配置
适用于单元测试和集成测试，配置更加简洁，主要关注控制台输出的可读性。

特点：
1. 使用Spring Boot的日志扩展（如%clr和%wEx转换模式）
2. 提供彩色控制台输出
3. 简化的文件日志配置
4. 更高的默认日志级别（便于调试）
-->

<included>
    <property name="logHome" value="${logHome:-${logging.path:-${logging.file.path:-${java.io.tmpdir:-/tmp}}}}"/>
    <property name="logNamePrefix" value="${logNamePrefix:-${logging.file:-${spring.application.name:-application}}}"/>

    <include resource="org/springframework/boot/logging/logback/defaults.xml"/>
    <include resource="logback/springboot/components/console.xml"/>
    <include resource="logback/springboot/components/file.xml"/>

    <!-- 由于单元测试或 以及 @SpringBootTest 集成测试中部分日志无法被 logback-spring.xml 控制 -->
    <root level="${logging.level.root:-info}">
        <appender-ref ref="CONSOLE"/>
        <appender-ref ref="ASYNC"/>
    </root>
</included>
